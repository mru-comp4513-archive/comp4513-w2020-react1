<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Lab 20a</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.8.0/css/bulma.min.css">
    <script defer src="https://use.fontawesome.com/releases/v5.3.1/js/all.js"></script>
    <link rel="stylesheet" href="lab20a-test01.css" />

    <!--The React JS libraries -->
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <!--Initially, we will use the babel run-time library to convert JSX in the browser -->
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>   
    
    <script src="movie-data.js"></script>
    
<script type="text/babel">

/* In this example we are demonstrating controlled components for forms

*/
class App extends React.Component {

 
    // notice that movie data has already been added to state
    state = {
        movies: movieData
    }

    saveChanges = (changedMovie, index) => {
        // first make copy of movies array from state

        // now set the array element (use index) in the copy
        // to a new movie object using the data in changedMovie
       
        // finally use setState with the copy

    }
   

    render() {
        return (
            <main className="container">
                <section className="columns has-background-light">
                       { 
                           // replace {} with MovieList 
                       }
                    <div className="column is-half">
                        { 
                            // - Use map to output a MovieForm element for each movie 
                            // - Be sure to include both index and key
                            // - Don't forget to pass saveChanges to MovieForm
                        }
                    </div>
                </section>
            </main>                
        );
    }

}


/* 
------------------------------------------------------------------------------------------------------------------
*/
class MovieForm extends React.Component {


    render() {
        return (
            <form className="panel has-background-grey-lighter"  >

                <div className="field is-horizontal">
                    <div className="field-label is-normal">
                        <label className="label">Title</label>
                    </div>
                    <div className="field-body">
                        <input className="input" type="text"  />   
                    </div>
                </div>   

                <div className="field is-horizontal">
                    <div className="field-label is-normal">
                        <label className="label">Tagline</label>
                    </div>
                    <div className="field-body">
                        <textarea className="textarea" rows="2" ></textarea>
                    </div>
                </div>                  

                <div className="field is-horizontal">
                    <div className="field-label is-normal">
                        <label className="label">Runtime</label>
                    </div>
                    <div className="field-body">
                        <input className="input" type="text" />   
                    </div>
                </div>    
                                                  
            </form>
        );
    }
}

/* 
------------------------------------------------------------------------------------------------------------------
*/
class MovieList extends React.Component {


    render() {
        return (
            <div className="column is-half">
                <ul className="columns is-multiline">
                    { 
                        // - the list of movies should have been passed in via props
                        // - use map to render a SingleMovie for each movie in list
                    }
                </ul>   
            </div>   
        );
    }

}

/* 
------------------------------------------------------------------------------------------------------------------
*/
class SingleMovie extends React.Component {


    render() {
        return (
            <li className="column is-one-third-desktop is-half-tablet"  >
                <div className="card">
                    <div className="card-image">
                    <figure className="image is-2by3">
                        <img src="https://image.tmdb.org/t/p/w185/w9Z7A0GHEhIp7etpj0vyKOeU1Wx.jpg" alt="Sample Title" />
                    </figure>
                    </div>
                    <div className="card-content has-text-centered content-rectangle">
                        <h2 className="title is-6">Sample Time (100 min)</h2>
                        <p className="is-size-7">Sample Tag</p>
                    </div>    
                    <footer className="card-footer">
                        {
                            // add MovieLink component and pass it the tmdbID value
                        }

                    </footer>                                      
                </div>                
            </li>
        )

    }

}


/* 
------------------------------------------------------------------------------------------------------------------
*/
// create MovieLink as a functional component (not a class component)


    
ReactDOM.render(<App />, document.querySelector('#react-container')); 
  
</script> 
        
        
  </head>
  <body>
    <div id='react-container' ></div>
  </body>
</html>